"use strict";(self.webpackChunk_availity_dinosaurdocs=self.webpackChunk_availity_dinosaurdocs||[]).push([[291],{3023:(e,n,o)=>{o.d(n,{R:()=>l,x:()=>r});var t=o(3696);const s={},i=t.createContext(s);function l(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(i.Provider,{value:n},e.children)}},5753:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"reference/workflow-config","title":"Reference: Workflow Configuration","description":"Features","source":"@site/docs/reference/workflow-config.md","sourceDirName":"reference","slug":"/reference/workflow-config","permalink":"/availity-workflow/reference/workflow-config","draft":false,"unlisted":false,"editUrl":"https://github.com/availity/availity-workflow/edit/master/docusaurus/docs/reference/workflow-config.md","tags":[],"version":"current","frontMatter":{"title":"Reference: Workflow Configuration"},"sidebar":"someSidebar","previous":{"title":"Setting up Logging","permalink":"/availity-workflow/recipes/logging"},"next":{"title":"Reference: CLI Commands","permalink":"/availity-workflow/reference/commands"}}');var s=o(2540),i=o(3023),l=o(3254);const r={title:"Reference: Workflow Configuration"},d=void 0,c={},a=[{value:"Features",id:"features",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Options",id:"options",level:3},{value:"<code>development.open</code>",id:"developmentopen",level:4},{value:"<code>development.notification</code>",id:"developmentnotification",level:4},{value:"<code>development.host</code>",id:"developmenthost",level:4},{value:"<code>development.port</code>",id:"developmentport",level:4},{value:"<code>development.logLevel</code>",id:"developmentloglevel",level:4},{value:"<code>development.sourceMap</code>",id:"developmentsourcemap",level:4},{value:"<code>development.hotLoader</code>",id:"developmenthotloader",level:4},{value:"<code>development.webpackDevServer</code>",id:"developmentwebpackdevserver",level:4},{value:"<code>development.targets</code>",id:"developmenttargets",level:4},{value:"<code>development.babelInclude</code>",id:"developmentbabelinclude",level:4},{value:"<code>development.jestOverrides</code>",id:"developmentjestoverrides",level:4},{value:"<code>app.title</code>",id:"apptitle",level:4},{value:"<code>globals</code>",id:"globals",level:4},{value:"<code>mock.enabled</code>",id:"mockenabled",level:4},{value:"<code>mock.port</code>",id:"mockport",level:4},{value:"<code>mock.latency</code>",id:"mocklatency",level:4},{value:"<code>mock.data</code>",id:"mockdata",level:4},{value:"<code>mock.path</code>",id:"mockpath",level:4},{value:"<code>mock.plugins</code>",id:"mockplugins",level:4},{value:"<code>mock.pluginContext</code>",id:"mockplugincontext",level:4},{value:"<code>proxies</code>",id:"proxies",level:4},{value:"<code>modifyWebpackConfig</code>",id:"modifywebpackconfig",level:4},{value:"FAQ",id:"faq",level:2},{value:"How to integrate with Visual Studio Code&#39;s Jest plugin?",id:"how-to-integrate-with-visual-studio-codes-jest-plugin",level:3},{value:"How to setup a development environment to match the deployment environment?",id:"how-to-setup-a-development-environment-to-match-the-deployment-environment",level:3}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Files placed in ",(0,s.jsx)(n.code,{children:"project/app/static"})," will automatically get copied to the build directory. This can be useful when an application needs to reference static documents like images and PDFs without having to import them using Webpack. The files would be accessible through the path ",(0,s.jsx)(n.code,{children:"static"})," relative to the application."]}),"\n",(0,s.jsxs)(n.li,{children:["A global variable ",(0,s.jsx)(n.code,{children:"APP_VERSION"})," is written to javascript bundle that can be used to determine the version of the application that was deployed. Open up the browser debugger and type ",(0,s.jsx)(n.code,{children:"APP_VERSION"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Hook into Jest ",(0,s.jsx)(n.code,{children:"setupFiles"})," by adding ",(0,s.jsx)(n.code,{children:"jest.setup.js"})," at the root of your project"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"workflow"})," can be configured using a javascript or yaml configuration file called ",(0,s.jsx)(n.code,{children:"workflow.js"})," or ",(0,s.jsx)(n.code,{children:"workflow.yml"}),".\n",(0,s.jsx)(n.code,{children:"workflow.js"})," or ",(0,s.jsx)(n.code,{children:"workflow.yml"})," lives in ",(0,s.jsx)(n.code,{children:"<application_root>/project/config/workflow.js"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"module.exports = {\n    development: {\n        notification: true\n        hot: true\n    },\n    app: {\n        title: 'My Awesome App'\n    }\n    mock: {\n        latency: 300,\n        port: 9999\n    },\n    proxies: [\n        {\n            context: '/api',\n            target: `http://localhost:9999`,\n            enabled: true,\n            logLevel: 'info',\n            pathRewrite: {\n            '^/api': ''\n            },\n            headers: {\n                RemoteUser: 'janedoe'\n            }\n        }\n    ]\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"workflow"})," can also be configured using ",(0,s.jsx)(n.code,{children:"package.json"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:'{\n    "name": "foo",\n    "availityWorkflow": {\n        development: {\n            notification: true\n            hot: true\n        },\n        "app": {\n            "title": "My Awesome App"\n        }\n    }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["If ",(0,s.jsx)(n.code,{children:"workflow.js"})," exports a function it can be used to override properties from the default configuration. The function must return a configuration."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"function merge(config) {\n    config.development.open = '#/foo';\n    return config;\n}\n\nmodule.exports = merge;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"options",children:"Options"}),"\n",(0,s.jsx)(n.h4,{id:"developmentopen",children:(0,s.jsx)(n.code,{children:"development.open"})}),"\n",(0,s.jsx)(n.p,{children:"Opens the url in the default browser"}),"\n",(0,s.jsx)(n.h4,{id:"developmentnotification",children:(0,s.jsx)(n.code,{children:"development.notification"})}),"\n",(0,s.jsx)(n.p,{children:"Webpack build status system notifications"}),"\n",(0,s.jsx)("img",{src:(0,l.Ay)("img/notification.png"),className:"w-50 mb-2",alt:"notification"}),"\n",(0,s.jsx)(n.h4,{id:"developmenthost",children:(0,s.jsx)(n.code,{children:"development.host"})}),"\n",(0,s.jsx)(n.p,{children:"Webpack dev server host"}),"\n",(0,s.jsx)(n.h4,{id:"developmentport",children:(0,s.jsx)(n.code,{children:"development.port"})}),"\n",(0,s.jsxs)(n.p,{children:["Webpack dev server port. If the port at this value is unavailable, the port value will be incremented until an unused port is found.\nDefault: ",(0,s.jsx)(n.code,{children:"3000"})]}),"\n",(0,s.jsx)(n.h4,{id:"developmentloglevel",children:(0,s.jsx)(n.code,{children:"development.logLevel"})}),"\n",(0,s.jsxs)(n.p,{children:["Allows ",(0,s.jsx)(n.a,{href:"https://webpack.js.org/configuration/stats/#stats",children:"Webpack log levels presets"})," to be used during development. A custom logger is used by default."]}),"\n",(0,s.jsx)(n.h4,{id:"developmentsourcemap",children:(0,s.jsx)(n.code,{children:"development.sourceMap"})}),"\n",(0,s.jsxs)(n.p,{children:["Webpack ",(0,s.jsx)(n.code,{children:"devtool"})," setting. Default is ",(0,s.jsx)(n.code,{children:"source-map"}),". For more options please see ",(0,s.jsx)(n.a,{href:"https://webpack.js.org/configuration/devtool/#devtool",children:"https://webpack.js.org/configuration/devtool/#devtool"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"developmenthotloader",children:(0,s.jsx)(n.code,{children:"development.hotLoader"})}),"\n",(0,s.jsxs)(n.p,{children:["Enable or disable react-hot-loader. Default is ",(0,s.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Can also be an object to enable experimental ",(0,s.jsx)(n.code,{children:"react-refresh"})," features\nex."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "hotLoader": true\n}\n'})}),"\n",(0,s.jsx)(n.h4,{id:"developmentwebpackdevserver",children:(0,s.jsx)(n.code,{children:"development.webpackDevServer"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Caution"}),": Please be careful when overriding defaults"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Optional options for Webpack development server. If undefined, ",(0,s.jsx)(n.code,{children:"workflow"})," defaults are used. Please see ",(0,s.jsx)(n.a,{href:"https://webpack.js.org/configuration/dev-server/#devserver",children:"https://webpack.js.org/configuration/dev-server/#devserver"})," for all available options."]}),"\n",(0,s.jsx)(n.h4,{id:"developmenttargets",children:(0,s.jsx)(n.code,{children:"development.targets"})}),"\n",(0,s.jsxs)(n.p,{children:["Allows developers to override the ",(0,s.jsx)(n.code,{children:"babel-preset-env"})," target to match their developer environment. This is beneficial if a developer is doing their primary development environment in a browser like Chrome 57+ that already supports a lot of the ES6 features, therefore, not needing to Babelfy code completely."]}),"\n",(0,s.jsxs)(n.p,{children:["This setting is is only used for development and does not effect staging/production/testing builds which use browserslist defaults. ",(0,s.jsx)(n.strong,{children:"@See"})," ",(0,s.jsx)(n.a,{href:"https://github.com/babel/babel-preset-env",children:"https://github.com/babel/babel-preset-env"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Examples:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"targets: {\n    browsers: ['last 2 Chrome versions'];\n}\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"targets: {\n    chrome: 57;\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"developmentbabelinclude",children:(0,s.jsx)(n.code,{children:"development.babelInclude"})}),"\n",(0,s.jsxs)(n.p,{children:["Include additional packages from ",(0,s.jsx)(n.code,{children:"node_modules"})," that should be compiled by Babel and Wepback. The default is to compile all packages that are prefixed with ",(0,s.jsx)(n.code,{children:"@av/"})]}),"\n",(0,s.jsx)(n.h4,{id:"developmentjestoverrides",children:(0,s.jsx)(n.code,{children:"development.jestOverrides"})}),"\n",(0,s.jsxs)(n.p,{children:["Customize any available jest configuration option. See ",(0,s.jsx)(n.a,{href:"https://jestjs.io/docs/configuration#reference",children:"https://jestjs.io/docs/configuration#reference"})," for list of configuration options. Uses lodash merge to deeply merge user config object with defaults."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Ex:"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"{\n    collectCoverageFrom: ['project/app/**/*.{js,jsx,ts,tsx}', '!project/app/**/*.d.ts'],\n    coveragePathIgnorePatterns: ['/node_modules/', '/coverage/', '/dist/', '/types'],\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"apptitle",children:(0,s.jsx)(n.code,{children:"app.title"})}),"\n",(0,s.jsxs)(n.p,{children:["Page title to use for the generated HTML document. Default is ",(0,s.jsx)(n.code,{children:"Availity"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:"<html>\n    <head>\n        <title>Availity</title>\n    </head>\n</html>\n"})}),"\n",(0,s.jsx)(n.h4,{id:"globals",children:(0,s.jsx)(n.code,{children:"globals"})}),"\n",(0,s.jsx)(n.p,{children:"Create globals to be used for feature flags. Globals must be defined in the workflow configuration file before they can be used as flags by a project."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"globals: {\n    BROWSER_SUPPORTS_HTML5: true,\n    EXPERIMENTAL_FEATURE: false\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Once declared, override the default flag values from the command line ."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Ex:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"EXPERIMENTAL_FEATURE=true npm run production\n"})}),"\n",(0,s.jsx)(n.p,{children:"By default, the following feature flags are enabled:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"__DEV__"}),": ",(0,s.jsx)(n.strong,{children:"true"})," when ",(0,s.jsx)(n.code,{children:"process.env.NODE_ENV"})," is ",(0,s.jsx)(n.strong,{children:"development"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"__TEST__"}),": ",(0,s.jsx)(n.strong,{children:"true"})," when ",(0,s.jsx)(n.code,{children:"process.env.NODE_ENV"})," is ",(0,s.jsx)(n.strong,{children:"test"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"__PROD__"}),": ",(0,s.jsx)(n.strong,{children:"true"})," when ",(0,s.jsx)(n.code,{children:"process.env.NODE_ENV"})," is ",(0,s.jsx)(n.strong,{children:"production"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"__STAGING__"}),": ",(0,s.jsx)(n.strong,{children:"true"})," when ",(0,s.jsx)(n.code,{children:"process.env.NODE_ENV"})," is ",(0,s.jsx)(n.strong,{children:"staging"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"process.env.NODE_ENV"}),": is ",(0,s.jsx)(n.code,{children:"development"}),", ",(0,s.jsx)(n.code,{children:"test"}),", ",(0,s.jsx)(n.code,{children:"staging"})," or ",(0,s.jsx)(n.code,{children:"production"})," accordingly."]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"eslint-config-availity@2.1.0"})," or higher is needed for the default feature toggles to be recognized as valid globals by ",(0,s.jsx)(n.strong,{children:"eslint"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"mockenabled",children:(0,s.jsx)(n.code,{children:"mock.enabled"})}),"\n",(0,s.jsxs)(n.p,{children:["Enables or disables mock server. Default is ",(0,s.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"mockport",children:(0,s.jsx)(n.code,{children:"mock.port"})}),"\n",(0,s.jsx)(n.p,{children:"Mock server port number. If the port is unavailable, a random available port will be used."}),"\n",(0,s.jsx)(n.p,{children:"Note: we will automatically update the proxy settings to reflect the port used in the case of a random port being selected."}),"\n",(0,s.jsx)(n.h4,{id:"mocklatency",children:(0,s.jsx)(n.code,{children:"mock.latency"})}),"\n",(0,s.jsx)(n.p,{children:"Sets default latency for all mock responses"}),"\n",(0,s.jsx)(n.h4,{id:"mockdata",children:(0,s.jsx)(n.code,{children:"mock.data"})}),"\n",(0,s.jsxs)(n.p,{children:["Folder that contains the mock data files (json, images, etc). Defaults to ",(0,s.jsx)(n.code,{children:"project/data"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"mockpath",children:(0,s.jsx)(n.code,{children:"mock.path"})}),"\n",(0,s.jsxs)(n.p,{children:["Path to route configuration file used by Mock server to build Express routes. Defaults to ",(0,s.jsx)(n.code,{children:"project/config/routes.json"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"mockplugins",children:(0,s.jsx)(n.code,{children:"mock.plugins"})}),"\n",(0,s.jsxs)(n.p,{children:["Array of NPM module names that enhance mock server with additional data and routes. @See ",(0,s.jsx)(n.a,{href:"https://github.com/Availity/@availity/mock-data",children:"https://github.com/Availity/@availity/mock-data"})]}),"\n",(0,s.jsx)(n.h4,{id:"mockplugincontext",children:(0,s.jsx)(n.code,{children:"mock.pluginContext"})}),"\n",(0,s.jsxs)(n.p,{children:["Pass URL context information to mock responses so that HATEOS links traverse correctly. Defaults to ",(0,s.jsx)(n.code,{children:"http://localhost:{development.port}/api"})]}),"\n",(0,s.jsx)(n.h4,{id:"proxies",children:(0,s.jsx)(n.code,{children:"proxies"})}),"\n",(0,s.jsx)(n.p,{children:"Array of proxy configurations. A default configuration is enabled to proxy requests to the mock server. Each proxy configuration can have the following attributes."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"context"}),": URL context used to match the activation of the proxy per request."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Ex:"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"context: '/api';\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"target"}),": Host and port number for proxy."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"enabled"}),": Enables or disables a proxy configuration"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pathRewrite"}),": ",(0,s.jsx)(n.em,{children:"(Optional)"})," Rewrites (using regex) the path before sending request to proxy target."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Ex:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"pathRewrite: {\n  '^/api': ''\n}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"contextRewrite"}),": ",(0,s.jsx)(n.em,{children:"(Optional)"})," Does not work with multiple proxy contexts. When ",(0,s.jsx)(n.code,{children:"true"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Rewrites the ",(0,s.jsx)(n.code,{children:"Origin"})," and ",(0,s.jsx)(n.code,{children:"Referer"})," headers from host to match the the proxy target url."]}),"\n",(0,s.jsxs)(n.li,{children:["Rewrites the ",(0,s.jsx)(n.code,{children:"Location"})," header from proxy to the host url."]}),"\n",(0,s.jsx)(n.li,{children:"Rewrites any urls of the response body (JSON only) to match the url of the host. Only URLs that match the proxy target are rewritten. This feature is useful if the proxy server sends back HATEOS links that need to work on the host. The proxy context is automatically appended to the host url if missing the a URL response."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"headers"}),": ",(0,s.jsx)(n.em,{children:"(Optional)"})," Send default headers to the proxy destination."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Ex:"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"headers: {\n    RemoteUser: 'janedoe';\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"modifywebpackconfig",children:(0,s.jsx)(n.code,{children:"modifyWebpackConfig"})}),"\n",(0,s.jsx)(n.p,{children:"A function which, when provided, can be used to enhance/override or replace the webpack configuration used. The function will be invoked with the current webpack configuration object and a reference to the workflow settings."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Ex:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"modifyWebpackConfig: (webpackConfig, settings) => {\n    // Add Subresource Integrity (SRI) security feature\n    webpackConfig.output = { crossOriginLoading: 'anonymous' };\n    // Note: SriPlugin would be imported in your workflow.js to be referenced here\n    webpackConfig.plugins.push(\n        new SriPlugin({\n            hashFuncNames: ['sha256', 'sha384'],\n            // only enable it for non-development builds\n            enabled: !settings.isDevelopment()\n        })\n    );\n    return webpackConfig;\n};\n"})}),"\n",(0,s.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,s.jsxs)(n.h3,{id:"how-to-integrate-with-visual-studio-codes-jest-plugin",children:["How to integrate with Visual Studio Code's ",(0,s.jsx)(n.a,{href:"https://marketplace.visualstudio.com/items?itemName=Orta.vscode-jest",children:"Jest plugin"}),"?"]}),"\n",(0,s.jsxs)(n.p,{children:["Create ",(0,s.jsx)(n.code,{children:"./vscode/settings.json"})," file with the following configuration:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "jest.pathToJest": "node_modules/.bin/av test"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note"}),": The Jest plugin will still warn about Jest 20+ features missing but it doesn't appear to affect the plugins's functionality"]}),"\n",(0,s.jsxs)(n.p,{children:["If you would like to debug Jest tests, create ",(0,s.jsx)(n.code,{children:"./vscode/launch.json"})," with this configuration:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "version": "0.2.0",\n    "configurations": [\n        {\n            "type": "node",\n            "name": "vscode-jest-tests",\n            "request": "launch",\n            "program": "${workspaceRoot}/node_modules/.bin/av",\n            "args": ["test", "--runInBand"],\n            "cwd": "${workspaceFolder}",\n            "console": "integratedTerminal",\n            "internalConsoleOptions": "neverOpen"\n        }\n    ]\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Then you will be able to debug Jest tests like this:"}),"\n",(0,s.jsx)("img",{width:"100%",src:(0,l.Ay)("img/jest-debug.gif"),src:"jest-debug.gif",alt:"Jest Debugging Example"}),"\n",(0,s.jsx)(n.h3,{id:"how-to-setup-a-development-environment-to-match-the-deployment-environment",children:"How to setup a development environment to match the deployment environment?"}),"\n",(0,s.jsxs)(n.p,{children:["Update ",(0,s.jsx)(n.code,{children:"workflow.js"})," using the configuration below:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"module.exports = (config) => {\n    config.proxies = [\n        {\n            context: ['/api/**', '/ms/**', '!/api/v1/proxy/healthplan/**'],\n            target: 'http://localhost:9999',\n            enabled: true,\n            logLevel: 'debug',\n            pathRewrite: {\n                '^/api': ''\n            }\n        },\n        {\n            context: ['/api/v1/proxy/healthplan/some/mock/path'],\n            target: 'http://localhost:9999',\n            enabled: true,\n            logLevel: 'debug',\n            pathRewrite: {\n                '^/api': ''\n            }\n        },\n        {\n            context: ['/api/v1/proxy/healthplan/**'],\n            target: 'http://localhost:8888',\n            enabled: true,\n            logLevel: 'debug',\n            pathRewrite: {\n                '^/api/v1/proxy/healthplan/': ''\n            }\n        }\n    ];\n    return config;\n};\n"})}),"\n",(0,s.jsx)(n.p,{children:"The configuration above does the following:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Proxy requests starting with ",(0,s.jsx)(n.code,{children:"/ms"})," or ",(0,s.jsx)(n.code,{children:"/api"})," to the mock server but not paths that haves segments ",(0,s.jsx)(n.code,{children:"/api/v1/proxy/healthplan/"}),". This configuration allows the Availity API to be simulated from mock server."]}),"\n",(0,s.jsxs)(n.li,{children:["Proxy requests with path ",(0,s.jsx)(n.code,{children:"/api/v1/proxy/healthplan/some/mock/path"})," to the mock server. Optional configuration that is useful if an API is not available for use and needs to be mocked."]}),"\n",(0,s.jsxs)(n.li,{children:["Proxy all requests with path segments ",(0,s.jsx)(n.code,{children:"/api/v1/proxy/healthplan/"})," to the configured target ",(0,s.jsx)(n.code,{children:"'http://localhost:8888'"}),". Notice the URL is being rewritten. Change the rewrite path to match your local path as needed. This configuration is useful when testing against live services."]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);